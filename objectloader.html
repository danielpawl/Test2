<!DOCTYPE html>
<html>
    <head>
		<meta charset=utf-8>
		<title>ControlWorld</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
        <script src="js/build/three.js"></script>
        <script  src="js/libs/physi.js"></script>
        <script src="js\examples\js\controls\OrbitControls.js" ></script>
        <script src="js\examples\js\controls\PointerLockControls.js" ></script>
        <script src="js\src\loaders\TextureLoader.js" ></script>
        <script src="js\examples\js\loaders\OBJLoader.js"></script>
        <script src="js\examples\js\loaders\MTLLoader.js"></script>
        <script>
        
        var scene, renderer, render, camera, controls;

        init();

        function init(){
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000);
            scene.fog = new THREE.Fog(0x000000, 100, 400);

            renderer = new THREE.WebGLRenderer({antialias: true});
            renderer.physicallyCorrectLights = true;
			renderer.gammaInput = true;
			renderer.gammaOutput = true;
			renderer.shadowMap.enabled = true;
			renderer.shadowMapType = THREE.PCFSoftShadowMap;
			renderer.toneMapping = THREE.ReinhardToneMapping;
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

            camera = new THREE.PerspectiveCamera(30, window.innerWidth/ window.innerHeight, 1, 2500);
            controls = new THREE.OrbitControls( camera, renderer.domElement);
            camera.position.set(30, 200, 0);
            camera.lookAt(scene.position);

            var ambi = new THREE.AmbientLight(0xffeecc, 0.5);
            scene.add(ambi);
            
            //Floor
            var floorGeo = new THREE.PlaneBufferGeometry(200, 200);
            var floorMat = new THREE.MeshStandardMaterial({color: 0xffffff});
            var floor = new THREE.Mesh(floorGeo, floorMat);
            scene.add(floor);
            floor.rotation.x = -Math.PI /2.0;
            
            objectLoader();
            objectLoader2();

            render();

        }

        function render(){
            requestAnimationFrame( render );
			renderer.render( scene, camera );
        }

        function objectLoader(){
            var objLoader = new THREE.OBJLoader();
            var mtlLoader = new THREE.MTLLoader();
            mtlLoader.load('models/obj/batman2/source/CV_DLC8_Batman_Beyond/CV_DLC8_Batman_Beyond.mtl', function(materials){
                materials.isMultiMaterial = true;
                materials.preload();
                objLoader.setMaterials(materials);  
                objLoader.load('models/obj/batman2/source/CV_DLC8_Batman_Beyond/CV_DLC8_Batman_Beyond.obj', function(obj){
                    obj.scale.set(30, 30, 30);
                    scene.add(obj);
                })
            })
        }
        
        function objectLoader2(){
        var objLoader = new THREE.OBJLoader();
        var mtlLoader = new THREE.MTLLoader();
        
            objLoader.load('models/obj/skull/source/craneo.OBJ', function(obj){
                obj.scale.set(30, 30, 30);
                obj.position.set(0, 30, 0);
                scene.add(obj);

            });
                    
        }


        
        </script>
        
    </body>
</html>